<section class="container mx-auto p-4 h-full flex grid grid-cols-12 gap-4 overflow-y-auto no-scrollbar main-container">
  <section class="col-span-12 row-span-auto w-full">
    <nz-breadcrumb class="flex">
      <nz-breadcrumb-item class="flex items-center">
        <a class="flex items-center" routerLink="/">
          <i class="fa-solid fa-home"></i>
        </a>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item class="flex items-center">
        <a class="flex items-center">
          Wallet
        </a>
      </nz-breadcrumb-item>
    </nz-breadcrumb>
  </section>

  <section class="col-span-12 md:col-span-6 xl:col-span-4 xl:row-span-6">
    <nz-card class="w-fulll xl:h-full ant-card-no-padding">
      <section class="flex flex-col">
        <div class="w-full mb-2 p-4">
          <h1 class="opacity-80 text-base font-bold m-0">
            Account balance
          </h1>

          <h2 class=" text-xl font-bold m-0">
            ${{ counterAssetCode$ | async }} {{ totalBalanceOnCounterAsset$ | async | number: '0.0-7' }}
          </h2>
        </div>

        <div class="w-full flex justify-center p-4">
          <ngx-charts-pie-chart
            [view]="[250, 250]"
            [results]="balanceGraphValues$ | async"
            [gradient]="false"
            [legend]="false"
            [legendPosition]="legendPosition"
            [labels]="false"
            [doughnut]="true"
            [scheme]="graphColors"
            [tooltipText]="graphTooltipFormatter"
          >
          </ngx-charts-pie-chart>
        </div>

        <nz-list class="w-full mb-4">
          <nz-list-item class="px-4">
            <div>
              <p class="font-semibold">Trusting assets:</p>
            </div>

            <div>
              {{ ((accountBalancesRegularAssets$ | async) || []).length }}
            </div>
          </nz-list-item>

          <nz-list-item class="px-4">
            <div>
              <p class="font-semibold">Pool shares:</p>
            </div>

            <div>
              {{ lpAssetsBalancesTotalShares$ | async | number: '0.0-7' }}
            </div>
          </nz-list-item>

          <nz-list-item class="px-4">
            <div>
              <p class="font-semibold">Locked XLMs:</p>
            </div>

            <div>
              4528.2412445
            </div>
          </nz-list-item>
        </nz-list>
      </section>
    </nz-card>
  </section>

  <section class="col-span-12 md:col-span-6 xl:col-span-4 xl:row-span-6">
    <nz-card class="w-full xl:h-full ant-card-h-full ant-card-no-padding pt-4 pb-2">
      <section class="xl:h-full xl:grid xl:grid-cols-12 inner-card-grid-container">
        <div class="w-full xl:col-span-12 xl:row-span-auto text-center mb-2">
          <h1 class="text-xl font-bold m-0">
            My assets
          </h1>
        </div>

        <div class="w-full xl:col-span-12 xl:row-span-auto flex justify-center">
          <ngx-charts-pie-chart
            [view]="[250, 250]"
            [scheme]="graphColors"
            [results]="sizeOfPortfolioGraphValues$ | async"
            [gradient]="false"
            [legend]="false"
            [legendPosition]="legendPosition"
            [labels]="false"
            [doughnut]="true"
            [tooltipText]="graphTooltipFormatter"
          >
          </ngx-charts-pie-chart>
        </div>

        <nz-list class="w-full xl:col-span-12 xl:row-span-1 overflow-y-auto no-scrollbar">
          <nz-list-item *ngFor="let balance of (accountBalancesRegularAssets$ | async); trackBy: trackByBalanceline" class="w-full">
            <app-wallet-asset-item class="block w-full px-4"
                                   [balanceLine]="balance">
            </app-wallet-asset-item>
          </nz-list-item>
        </nz-list>
      </section>
    </nz-card>
  </section>

  <section class="col-span-12 md:col-span-6 xl:col-span-4 xl:row-span-6">
    <ng-container *ngIf="!!(lpAssetsBalances$ | async)?.length">
      <nz-card class="w-full ant-card-no-padding pt-4 pb-2">
        <div class="w-full text-center mb-2">
          <h1 class="text-xl font-bold m-0">
            Liquidity pool shares
          </h1>
        </div>

        <nz-list class="w-full">
          <nz-list-item *ngFor="let balance of (lpAssetsBalances$ | async); trackBy: trackByBalanceline" class="w-full">
            <app-lp-asset-item class="w-full px-4 cursor-pointer"
                               [lpAssetId]="balance.liquidity_pool_id"
                               [sharesAmount]="balance.balance">
            </app-lp-asset-item>
          </nz-list-item>
        </nz-list>
      </nz-card>
    </ng-container>
  </section>


</section>
